<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		body {
			margin: 0px 100px 500px 100px;
		}
		body .header {
			position: sticky;
			top: 0;
			background: inherit;
			padding: 20px;
			border-bottom: 1px solid #999;
			margin-bottom: 50px;
			text-align: center;
		}
		body .header .links {
			display: flex; 
			justify-content: space-around;
		}
		body .header .links a {
			color: #999;
		}
	</style>
	<title>FTD - Main test page</title>
</head>
<body>
	<div class="header">
		<h1>Main test page</h1>
		<div class="links">
			<a target="_blank" href="./css">css</a>
			<a target="_blank" href="./module">module</a>
			<a target="_blank" href="./bundle">bundle</a>
			<a target="_blank" href="./json-errors">json-errors</a>
			|
			<a target="" href="?bg=fff&color=333">Light</a>
			<a target="" href="?bg=222&color=ccc">Dark</a>
		</div>
	</div>
	<h2>Syntax description</h2>
	<table border="" cellpadding="5" cellspacing="0">
		<tbody>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"name":</code></td>
				<td>
					<p>
						A name of file or folder.
					</p>
				</td>
			</tr>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"ch":</code></td>
				<td>
					<p>
						A child files and folders.
					</p>
					<p>- if <code>"ch":</code> is falsy or absent - is is file</p>
					<p>- if <code>"ch":</code> is truesy - is closed folder</p>
					<p>- if <code>"ch":</code> is array - is opened folder</p>
				</td>
			</tr>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"comment":</code></td>
				<td>
					<p>A comment to this file or folder.</p>
				</td>
			</tr>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"iconstyle":</code></td>
				<td>
					<p>INHERITED style to file and folder icons.</p>
					<p>May be <code>"mono"</code> or <code>"colored"</code>.</p>
				</td>
			</tr>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"self-iconstyle":</code></td>
				<td>
					<p>NOT INHERITED style to file and folder icons.</p>
					<p>May be <code>"mono"</code> or <code>"colored"</code>.</p>
				</td>
			</tr>
			<tr>
				<!-- <td class="trn"></td> -->
				<td style="text-align: right;"><code>"child-iconstyle":</code></td>
				<td>
					<p>
						NOT INHERITED style to file and folder icons FOR CHILDREN of current folder only.
					</p>
					<p>May be <code>"mono"</code> or <code>"colored"</code>.</p>
				</td>
			</tr>
		</tbody>
	</table>

	<h2>Tests</h2>
	<pre class="ftd" data-line-num="42">
		{
			"rootpath": "",
			"name": "W:",
			"iconstyle": "mono",
			"ch": [
				{
					"name": "domains",
					"ch": true
				},
				{
					"name": "modules",
					"ch": true,
					"iconstyle": "colored"
				},
				{
					"name": "userdata",
					"ch": true
				},
				{
					"name": "Open Server.exe"
				}
			]
		}
	</pre>
	<pre class="ftd" data-line-num="67">
		{
			"name": "0-common",
			"ch": [
				{
					"name": "www",
					"ch": [
						{
							"name": ".git",
							"ch": true
						},
						{
							"name": "CSS",
							"ch": [
								{
									"name": "style.css"
								},
								{
									"name": "style.css.map"
								},
								{
									"name": "style.scss"
								}
							]
						},
						{
							"name": "favicon",
							"ch": true
						},
						{
							"name": ".gitignore"
						},
						{
							"name": ".htaccess"
						},
						{
							"name": "index.php"
						}
					]
				},
				{
					"name": "prepros.config"
				}
			]
		}
	</pre>
	<pre class="ftd" data-line-num="113">
		{
			"name": "0-common",
			"iconstyle": "mono",
			"ch": [
				{
					"name": "www",
					"ch": [
						{
							"name": ".git",
							"ch": true
						},
						{
							"name": "CSS",
							"ch": [
								{
									"name": "style.css"
								},
								{
									"name": "style.css.map"
								},
								{
									"name": "style.scss"
								}
							]
						},
						{
							"name": "favicon",
							"ch": true
						},
						{
							"name": ".gitignore"
						},
						{
							"name": ".htaccess"
						},
						{
							"name": "index.php"
						}
					]
				},
				{
					"name": "prepros.config"
				}
			]
		}
	</pre>

	<div class="ftd" data-line-num="161">
		{
			"name": "0-common",
			"iconstyle": "mono",
			"ch": [
				{
					"name": "www",
					"self-iconstyle": "colored",
					"child-iconstyle": "colored",
					"ch": [
						{
							"name": ".git",
							"ch": [
								{
									"name": "hooks",
									"ch": true
								},
								{
									"name": "info",
									"ch": true
								},
								{
									"name": "logs",
									"ch": true
								},
								{
									"name": "objects",
									"ch": true
								},
								{
									"name": "refs",
									"ch": true
								},
								{
									"name": "COMMIT_EDITMSG"
								},
								{
									"name": "config"
								},
								{
									"name": "description"
								},
								{
									"name": "HEAD"
								},
								{
									"name": "index"
								}
							]
						},
						{
							"name": "CSS",
							"ch": [
								{
									"name": "style.css"
								},
								{
									"name": "style.css.map"
								},
								{
									"name": "style.scss"
								}
							]
						},
						{
							"name": "favicon",
							"ch": [
								{
									"name": "favicon.ico"
								},
								{
									"name": "favicon2.ico"
								},
								{
									"name": "favicon3.ico"
								}
							]
						},
						{
							"name": ".gitignore"
						},
						{
							"name": ".htaccess"
						},
						{
							"name": "index.php"
						}
					]
				},
				{
					"name": "prepros.config"
				}
			]
		}
	</div>

	<pre class="ftd" data-line-num="257">
		{
			"name": "GIT",
			"iconstyle": "mono",
			"ch": [
				{
					"name": "www",
					"ch": [
						{
							"name": "Ace_PlugKit",
							"self-iconstyle": "colored",
							"ch": [
								{
									"name": "ace_PlugKit.css"
								},
								{
									"name": "ace_PlugKit.css.map"
								},
								{
									"name": "ace_PlugKit.scss"
								},
								{
									"name": "setupAce.js"
								},
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": "content",
							"iconstyle": "colored",
							"comment": "content",
							"ch": [
								{
									"name": "add-del-files",
									"comment": "add-del-files",
									"ch": true
								},
								{
									"name": "aliases-to-commands",
									"comment": "aliases-to-commands",
									"ch": true
								},
								{
									"name": "basic-principles",
									"comment": "basic-principles",
									"ch": true
								},
								{
									"name": "cherry-pick",
									"comment": "cherry-pick",
									"ch": true
								},
								{
									"name": "commands",
									"comment": "commands",
									"ch": true
								},
								{
									"name": "commit-tree",
									"comment": "commit-tree",
									"ch": true
								},
								{
									"name": "gists",
									"comment": "gists",
									"ch": true
								},
								{
									"name": "git-folder",
									"comment": "git-folder",
									"ch": true
								},
								{
									"name": "github",
									"ch": true
								},
								{
									"name": "github-cli",
									"ch": true
								},
								{
									"name": "github-desktop",
									"ch": true
								},
								{
									"name": "github-packages",
									"comment": "github-packages",
									"ch": true
								},
								{
									"name": "github-ssh",
									"ch": true
								},
								{
									"name": "github-tokens",
									"comment": "github-tokens",
									"ch": true
								},
								{
									"name": "gitignore",
									"ch": true
								},
								{
									"name": "go-back",
									"ch": true
								},
								{
									"name": "install",
									"ch": true
								},
								{
									"name": "merge",
									"ch": true
								},
								{
									"name": "rebase",
									"comment": "rebase",
									"ch": true
								},
								{
									"name": "remote-repo",
									"ch": true
								},
								{
									"name": "sublime-merge-shortcuts",
									"comment": "sublime-merge-shortcuts",
									"ch": true
								},
								{
									"name": "submodules",
									"ch": true
								},
								{
									"name": "submodules-2",
									"ch": true
								},
								{
									"name": "tags",
									"ch": true
								},
								{
									"name": "_Page",
									"ch": true
								}
							]
						},
						{
							"name": "contentsSection",
							"ch": [
								{
									"name": "contentsSection.css"
								},
								{
									"name": "contentsSection.css.map"
								},
								{
									"name": "contentsSection.js"
								},
								{
									"name": "contentsSection.scss"
								},
								{
									"name": "Templates.html"
								}
							]
						},
						{
							"name": "CSS",
							"self-iconstyle": "colored",
							"ch": [
								{
									"name": "style-old.scss"
								},
								{
									"name": "style.css"
								},
								{
									"name": "style.css.map"
								},
								{
									"name": "style.scss"
								},
								{
									"name": "_article.scss"
								},
								{
									"name": "_footer.scss"
								},
								{
									"name": "_header.scss"
								},
								{
									"name": "_page-layout.scss"
								},
								{
									"name": "_sidebar-menu.scss"
								}
							]
						},
						{
							"name": "FT",
							"ch": [
								{
									"name": "ft.css"
								},
								{
									"name": "ft.css.map"
								},
								{
									"name": "ft.js"
								},
								{
									"name": "ft.scss"
								},
								{
									"name": "readme.txt"
								},
								{
									"name": "Templates.html"
								}
							]
						},
						{
							"name": "funcList",
							"ch": [
								{
									"name": "examples.html"
								},
								{
									"name": "funcList.css"
								},
								{
									"name": "funcList.css.map"
								},
								{
									"name": "funcList.js"
								},
								{
									"name": "funcList.scss"
								},
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": "git-commands",
							"ch": [
								{
									"name": "branch.php"
								},
								{
									"name": "fetch.php"
								},
								{
									"name": "pull.php"
								},
								{
									"name": "rebase.php"
								},
								{
									"name": "remote.php"
								}
							]
						},
						{
							"name": "JS",
							"ch": [
								{
									"name": "script.js"
								}
							]
						},
						{
							"name": "jsObjectTree",
							"ch": [
								{
									"name": "jsObjectTree.css"
								},
								{
									"name": "jsObjectTree.css.map"
								},
								{
									"name": "jsObjectTree.js"
								},
								{
									"name": "jsObjectTree.scss"
								},
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": "mermaid_PlugKit",
							"ch": [
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": "openDetails",
							"ch": [
								{
									"name": "openDetails.js"
								},
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": "PhpConsole",
							"ch": [
								{
									"name": "Dispatcher",
									"ch": true
								},
								{
									"name": "Storage",
									"ch": true
								},
								{
									"name": "Auth.php"
								},
								{
									"name": "Connector.php"
								},
								{
									"name": "Dispatcher.php"
								},
								{
									"name": "Dumper.php"
								},
								{
									"name": "EvalProvider.php"
								},
								{
									"name": "Handler.php"
								},
								{
									"name": "Helper.php"
								},
								{
									"name": "OldVersionAdapter.php"
								},
								{
									"name": "PsrLogger.php"
								},
								{
									"name": "Storage.php"
								},
								{
									"name": "__autoload.php"
								}
							]
						},
						{
							"name": "separateKeySpans",
							"ch": [
								{
									"name": "separateKeySpans.css"
								},
								{
									"name": "separateKeySpans.css.map"
								},
								{
									"name": "separateKeySpans.js"
								},
								{
									"name": "separateKeySpans.scss"
								},
								{
									"name": "templates.html"
								}
							]
						},
						{
							"name": ".htaccess"
						},
						{
							"name": "AJAX-read-file.php"
						},
						{
							"name": "footer-scripts.php"
						},
						{
							"name": "footer.php"
						},
						{
							"name": "header.php"
						},
						{
							"name": "index.php"
						},
						{
							"name": "links-and-scripts.php"
						},
						{
							"name": "page-title.php"
						},
						{
							"name": "PhpConsoleConnect.php"
						},
						{
							"name": "sb-menu.php"
						}
					]
				},
				{
					"name": "prepros.config"
				}
			]
		}
	</pre>

	<h2>Icon test</h2>

	<div id="file_icons_test"></div>

	<script type="text/javascript">
		const query = Object.fromEntries(
			location.search.substr(1).split("&").map(v => v.split("="))
		);
		document.body.style.backgroundColor = `#${query.bg    || "fff"}`;
		document.body.style.color           = `#${query.color || "333"}`;
	</script>

	<script type="module">
		import FTD from "./../file-tree-diagram.js";
		const ftd = new FTD();
		file_icons_test.innerHTML = ftd.testHTML();
		document.querySelectorAll(".ftd").forEach((v) => {
			ftd.build(v, v.textContent);
		});
	</script>
</body>
</html>